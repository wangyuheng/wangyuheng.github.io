<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.yuheng.wang","root":"/","scheme":"Gemini","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"prism":false,"path":"search.xml"};
  </script>

  <meta name="description" content="天行健 男儿当立志！">
<meta property="og:type" content="website">
<meta property="og:title" content="wangyuheng&#39;s Blog">
<meta property="og:url" content="https://blog.yuheng.wang/page/11/index.html">
<meta property="og:site_name" content="wangyuheng&#39;s Blog">
<meta property="og:description" content="天行健 男儿当立志！">
<meta property="og:locale">
<meta property="article:author" content="wangyuheng">
<meta property="article:tag" content="wangyuheng, blog, java">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.yuheng.wang/page/11/">


<script data-pjax id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>wangyuheng's Blog</title>
  


  <script data-pjax>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f087e6d26eb7b46af4a441f8fd1b42b8";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">wangyuheng's Blog</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">time for change</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="wangyuheng"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">wangyuheng</p>
  <div class="site-description" itemprop="description">天行健 男儿当立志！</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">107</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">99</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/wangyuheng" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wangyuheng" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:wangyuheng@outlook.com" title="E-Mail → mailto:wangyuheng@outlook.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </section>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/wangyuheng" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.yuheng.wang/2015/12/18/javascript-calendar/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wangyuheng">
      <meta itemprop="description" content="天行健 男儿当立志！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wangyuheng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/12/18/javascript-calendar/" class="post-title-link" itemprop="url">javascript开发日历</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-12-18 19:47:55" itemprop="dateCreated datePublished" datetime="2015-12-18T19:47:55+08:00">2015-12-18</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>转载请注明出处<a target="_blank" rel="noopener" href="http://blog.crick.wang/">WangYuheng’s Blog</a></p>
<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>需要实现一个日历功能，网上找了几个示例，都是根据各种库和插件，居然没有纯净的js完成的日历插件，不免有些诧异，正好有时间，准备通过js编写一个简单的日历demo基础，可自由根据使用的插件进行显示层的定制。</p>
<h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img src="https://image.crick.wang/mweb/javascript-calendar-01.png" alt="javascript-calendar-01"><br><img src="https://image.crick.wang/mweb/javascript-calendar-02.png" alt="javascript-calendar-02"></p>
<h1 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h1><h2 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h2><p>说一下日历的算法</p>
<ol>
<li>(本月第一天的星期数+本月的天数)/7 可以知道本月需要占据几行。</li>
<li>将日历看为二维数组，第一级遍历条件为本月行数，第二级为0~7（直观形象为一个日历table，自左向右，自上而下循环）。</li>
<li>n为0~7循环参数， 计算当前日历方格显示数值为当前日期： 行数*7 + n - 本月第一天 + 1。</li>
<li>二月的天数根据闰年会有不同，闰年的计算方式： 当前年份能被400整除，或者当前的年份能被4整除且不能被100整除。</li>
</ol>
<h2 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h2><p>日历功能实现必须通过js的Date对象提供的基础数值。介绍一下用到的方法功能</p>
<pre><code>new Date().getFullYear(); //当前年份 2015
new Date().getMonth(); //当前月份 0~11 
new Date().getDate(); //当前月中的某一天 1~31
new Date().getDay(); //一周中的某一天 0~6
new Date(year, month, day); //根据构造函数返回Date对象
</code></pre>
<h1 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h1><p><em>这里写出来编写代码思路分析的过程，可以跳过直接看下方的完整代码。</em><br>先抽象出二维数组模型，7列已经确定，需要先根据<strong>算法1</strong>算出本月的日历行数，但是二月的天数不一致，所以先要根据是否为闰年算出二月的天数。</p>
<pre><code>var calendar = &#123;
    isLeap: function(vYear) &#123;
        return vYear % 400 == 0 || (vYear % 4 == 0 &amp;&amp; vYear % 100 != 0);
    &#125;,
    getFebruaryDays: function(vYear) &#123;
        return this.isLeap(vYear) ? 29 : 28;
    &#125;
&#125;
</code></pre>
<p>本月第一天的星期数可以根据new Date(currentYear, currentMonth, 1).getDay()得出。<br>monthFirstDay为本月第一天的星期数，monthDays为12月的天数组成的数组。根据构造函数计算赋值，并返回this对象方便链式调用。</p>
<pre><code>var calendar = &#123;
    year: null,
    month: null,
    date: null,
    day: null,
    monthDays: null,
    monthFirstDay: null,
    ctor: function(vNow) &#123;
        var now = vNow || new Date(); //如果为指定date对象，则为当前日期对象
        this.year = now.getFullYear();
        this.month = now.getMonth();
        this.date = now.getDate();
        this.day = now.getDay();
        this.monthFirstDay = new Date(this.year, this.month, 1).getDay();
        this.monthDays = [
            31, this.getFebruaryDays(this.year), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31
        ];
        return this;
    &#125;,
    isLeap: function(vYear) &#123;
        return vYear % 400 == 0 || (vYear % 4 == 0 &amp;&amp; vYear % 100 != 0);
    &#125;,
    getFebruaryDays: function(vYear) &#123;
        return this.isLeap(vYear) ? 29 : 28;
    &#125;
&#125;
</code></pre>
<p>计算日历行数</p>
<pre><code>getMonthDay: function() &#123;
    return this.monthDays[this.month];
&#125;,
getCalTr: function() &#123;
    return (this.monthFirstDay + this.getMonthDay()) / 7;
&#125;,
</code></pre>
<p>循环二维数组得到日历, *console.log(n);*可结合使用的框架进行输出展示。</p>
<pre><code>cal: function() &#123;
    var that = this;
    for (var i = 0; i &lt; this.getCalTr(); i++) &#123;
        for (var j = 0; j &lt; 7; j++) &#123;
            var n = (i * 7 + j) - that.monthFirstDay + 1;
            
            if (n &gt; 0 &amp;&amp; n &lt;= that.getMonthDay()) &#123;
                console.log(n);
            &#125;
        &#125;
    &#125;
&#125;
</code></pre>
<h2 id="完整代码，在控制台查看输出的日历"><a href="#完整代码，在控制台查看输出的日历" class="headerlink" title="完整代码，在控制台查看输出的日历"></a>完整代码，在控制台查看输出的日历</h2><pre><code>var calendar = &#123;
    year: null,
    month: null,
    date: null,
    day: null,
    monthDays: null,
    monthFirstDay: null,
    days: [
        &quot;星期一&quot;,
        &quot;星期二&quot;,
        &quot;星期三&quot;,
        &quot;星期四&quot;,
        &quot;星期五&quot;,
        &quot;星期六&quot;,
        &quot;星期日&quot;
    ],

    ctor: function(vNow) &#123;
        var now = vNow || new Date(); //如果为指定date对象，则为当前日期对象
        this.year = now.getFullYear();
        this.month = now.getMonth();
        this.date = now.getDate();
        this.day = now.getDay();
        this.monthFirstDay = new Date(this.year, this.month, 1).getDay();
        this.monthDays = [
            31, this.getFebruaryDays(this.year), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31
        ];
        return this;
    &#125;,
    isLeap: function(vYear) &#123;
        return vYear % 400 == 0 || (vYear % 4 == 0 &amp;&amp; vYear % 100 != 0);
    &#125;,
    getFebruaryDays: function(vYear) &#123;
        return this.isLeap(vYear) ? 29 : 28;
    &#125;,
    format: function() &#123;
        return (this.month + 1) + &quot;/&quot; + this.date + &quot;/&quot; + this.year + &quot;  &quot; + this.dayMap[this.day];
    &#125;,
    getDay: function() &#123;
        return this.days[this.day - 1]
    &#125;,
    getMonthDay: function() &#123;
        return this.monthDays[this.month];
    &#125;,
    getCalTr: function() &#123;
        return (this.monthFirstDay + this.getMonthDay()) / 7;
    &#125;,
    cal: function() &#123;
        var that = this;
        console.log(&quot;%c   日   一   二   三   四   五   六   &quot;,&#39;background: #222; color: #bada55&#39;);
        console.log(&quot;-----------------------------------&quot;);
        for (var i = 0; i &lt; this.getCalTr(); i++) &#123;
            var temp = &quot;&quot;;
            for (var j = 0; j &lt; 7; j++) &#123;
                var tempData = (i * 7 + j) - that.monthFirstDay + 1
                if (tempData &lt; 1) &#123;
                    temp = temp + &quot;prev &quot;;
                &#125; else if (tempData &gt; that.getMonthDay()) &#123;
                    temp = temp + &quot; next&quot;;
                &#125; else &#123;
                    if (tempData &gt; 9) &#123;
                        temp = temp + &quot;  &quot; + tempData + &quot; &quot;;
                    &#125; else &#123;
                        temp = temp + &quot;   &quot; + tempData + &quot; &quot;;
                    &#125;
                &#125;
            &#125;
            console.log(temp);
            console.log(&quot;-----------------------------------&quot;);
        &#125;
    &#125;
&#125;
calendar.ctor().cal();
calendar.ctor(new Date(2015, 10)).cal();
</code></pre>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><h2 id="不足"><a href="#不足" class="headerlink" title="不足"></a>不足</h2><p>本例中的ctor并非构造函数，而是针对一个对象进行变更，重新执行ctor后会替换calendar的属性值。<br>未对之前和之后的日期进行获取，如需相关功能，可在ctor中设置prevMonth 和 nextMonth的值，需要注意跨年度问题，时间和需求问题，暂未实现。</p>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><p>是否采用构造函数的方式生成多个对象？ （如果是工具类的话，不需要构造函数）<br>方法中采用this.param 还是获取外部参数 如何界定？</p>
<h2 id="收获"><a href="#收获" class="headerlink" title="收获"></a>收获</h2><p>用面向对象的方式编写js，思路清晰，语感更好。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.yuheng.wang/2015/12/16/java-thumbnail-watermark/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wangyuheng">
      <meta itemprop="description" content="天行健 男儿当立志！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wangyuheng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/12/16/java-thumbnail-watermark/" class="post-title-link" itemprop="url">java压缩图片生成缩略图，并添加水印</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-12-16 09:15:48" itemprop="dateCreated datePublished" datetime="2015-12-16T09:15:48+08:00">2015-12-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>转载请注明出处<a target="_blank" rel="noopener" href="http://blog.crick.wang/">WangYuheng’s Blog</a></p>
<h1 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h1><p>在编写的cms系统中，提供了图片上传功能，但是用户经常(或者说从不)按照推荐的比例上传图片，当然这不是主要问题，关键点在于，经常会上传一些超大分辨率的图片，严重影响整个网站的加载速度。<br>面对这个问题，除了限制上传图片的大小外，是否还有更自动化的解决方案？</p>
<h2 id="待解决问题："><a href="#待解决问题：" class="headerlink" title="待解决问题："></a>待解决问题：</h2><ol>
<li>图片长宽比</li>
<li>图片大小</li>
<li>图片格式</li>
<li>水印(用户要求)<br>关于添加水印的问题，其实用户希望制作一款不能被下载图片的网站，但个人能力有限，实在不能胜任。于是用户提出水印要求，本身可能会觉得水印是本地图片操作的职责，但为了体验系统的自动化，决定增加自动添加水印功能。</li>
</ol>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><p>java 的io操作一直是我较为困扰的部分。原因无它，因为可以实现的方式实在是太多了，在数十个工具类和数个知名类库中该如何选择？而java在图像处理方面，私以为并不占有优势。<br>经过多方比较，适用，最终采用了<a target="_blank" rel="noopener" href="https://github.com/coobird/thumbnailator">thumbnailator</a>这一开源解决方案</p>
<h2 id="thumbnailator"><a href="#thumbnailator" class="headerlink" title="thumbnailator"></a>thumbnailator</h2><blockquote>
<p>thumbnailator是一个开源的java生成缩略图类库，没有依赖其他外部库，不需要自己去学习Image I/O API, Java 2D API, image processing, image scaling techniques， BufferedImages，Graphics2D 等技术，可以简单方便的实现这些功能。</p>
</blockquote>
<h3 id="来源"><a href="#来源" class="headerlink" title="来源"></a>来源</h3><p>thumbnailator是一个简单的jar文件，也支持通过maven进行依赖管理</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;net.coobird&lt;/groupId&gt;
    &lt;artifactId&gt;thumbnailator&lt;/artifactId&gt;
    &lt;version&gt;0.4.8&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><p>thumbnailator提供的功能简单、强大，且API规则良好，可以容易的理解接口含义。下面针对上面的问题，介绍一下thumbnailator的主要功能。</p>
<h4 id="重置图片大小"><a href="#重置图片大小" class="headerlink" title="重置图片大小"></a>重置图片大小</h4><pre><code>Thumbnails.of(new File(&quot;original.jpg&quot;))
    .size(640, 480)
    .outputFormat(&quot;jpg&quot;)
    .toFiles(Rename.NO_CHANGE);
</code></pre>
<p>new File(“original.jpg”) 可以是listFiles()来实现对目录下所有文件的操作，也可以直接输入String类型”original.jpg”<br>toFiles表示文件输出位置，单个文件可以自定义指定文件路径。<br>在处理多文件时，可以根据Rename提供的方法Rename.NO_CHANGE表示变更当前图片文件，还有Rename.PREFIX_DOT_THUMBNAIL等增加前缀、后缀等方式，此时会保留原文件和生成后的图片文件。<br>outputFormat现支持ImageIO.getWriterFormatNames();提供的格式类型，本测试环境为jdk1.6.0_38，提供的类型有<em>BMP bmp jpg JPG wbmp jpeg png PNG JPEG WBMP GIF gif</em></p>
<h4 id="生成一个旋转90°带水印的缩略图"><a href="#生成一个旋转90°带水印的缩略图" class="headerlink" title="生成一个旋转90°带水印的缩略图"></a>生成一个旋转90°带水印的缩略图</h4><pre><code>Thumbnails.of(new File(&quot;original.jpg&quot;))
        .size(160, 160)
        .rotate(70)
        .watermark(Positions.BOTTOM_RIGHT, ImageIO.read(new File(&quot;watermark.png&quot;)), 0.5f)
        .outputQuality(0.8)
        .toFile(new File(&quot;image-with-watermark.jpg&quot;));
        
</code></pre>
<p>rotate表示图片旋转角度，如果不是进行直角(n*90°)旋转的话，图片的size会发生变化。<br>watermark指定了水印，通过Positions指定水印位置，BufferedImage指定水印图片，第三个参数指定了水印的不透明性，范围为(0<del>1.0f),1.0f为不透明。<br>outputQuality 指定输出图片的质量，范围同样为(0</del>1.0f)。</p>
<p>除了<strong>toFile</strong>，Thumbnails还可以将图片输出为OutputStream(<strong>toOutputStream</strong>)和BufferedImage(<strong>asBufferedImage</strong>)，或者是指定的输出目录(<strong>toFiles</strong>)。</p>
<h4 id="按比例缩略图片"><a href="#按比例缩略图片" class="headerlink" title="按比例缩略图片"></a>按比例缩略图片</h4><pre><code>Thumbnails.of(new File(&quot;original.jpg&quot;))
    .scale(0.2)
    .outputFormat(&quot;jpg&quot;)
    .toFiles(Rename.NO_CHANGE);
</code></pre>
<p>scale提供了按照比例缩略图片的方法，也可以通过大于1的数字扩大图片。</p>
<h3 id="存在的问题"><a href="#存在的问题" class="headerlink" title="存在的问题"></a>存在的问题</h3><p>在测试环境中，发现水印图片过大导致显示不全和旋转图片后的图片比例变更等问题，都是因为使用不当。<br>在生产环境中，暂时未遇到使用问题。如果有问题，会在这里指出，并提供解决方案。</p>
<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>thumbnailator是难得的让我通过java简单的使用io和图像处理的工具类，很喜欢它提供api方式，正在学习源码。</p>
<p><strong>Best regards</strong><br><strong>Wang Yuheng</strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.yuheng.wang/2015/12/15/js-encode-html-tags/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wangyuheng">
      <meta itemprop="description" content="天行健 男儿当立志！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wangyuheng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/12/15/js-encode-html-tags/" class="post-title-link" itemprop="url">JS实现HTML标签转义及反转义</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-12-15 13:54:38" itemprop="dateCreated datePublished" datetime="2015-12-15T13:54:38+08:00">2015-12-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>转载请注明出处<a target="_blank" rel="noopener" href="http://blog.crick.wang/">WangYuheng’s Blog</a></p>
<p>简单说一下业务场景，前台用户通过input输入内容，在离开焦点时，将内容在div中显示。<br>这时遇到一个问题，如果用户输入了html标签，则在div显示中，标签被解析。<br>由于是纯前端操作，不涉及后端，因此需要通过js对输入内容进行转义。</p>
<p>这里提供一个非常简单有效的转义方案，利用了<strong>innerHTML</strong>和<strong>innerText</strong><br><em>注：火狐不支持innerText，需要使用</em> <strong>textContent</strong> <em>属性，而IE早期版本不支持此属性，为了同时兼容IE及火狐，需要进行判断操作.</em></p>
<p>因为<strong>innerText（textContent）</strong>会获取纯文本内容，忽略html节点标签，而<strong>innerHTML</strong>会显示标签内容，<br>所以我们先将需转义的内容赋值给<strong>innerText（textContent）</strong>，再获取它的<strong>innerHTML</strong>属性，这时获取到的就是转义后文本内容。<br>代码如下：</p>
<pre><code>function HTMLEncode(html) &#123;
    var temp = document.createElement(&quot;div&quot;);
    (temp.textContent != null) ? (temp.textContent = html) : (temp.innerText = html);
    var output = temp.innerHTML;
    temp = null;
    return output;
&#125;

var tagText = &quot;&lt;p&gt;&lt;b&gt;123&amp;456&lt;/b&gt;&lt;/p&gt;&quot;;
console.log(HTMLEncode(tagText));//&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;123&amp;amp;456&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt; 
</code></pre>
<p>通过测试结果，可以看到html标签及&amp;符都被转义后保存。<br>同理，反转义的方法为先将转义文本赋值给<strong>innerHTML</strong>，然后通过<strong>innerText（textContent）</strong>获取转义前的文本内容</p>
<pre><code>function HTMLDecode(text) &#123; 
    var temp = document.createElement(&quot;div&quot;); 
    temp.innerHTML = text; 
    var output = temp.innerText || temp.textContent; 
    temp = null; 
    return output; 
&#125; 
var tagText = &quot;&lt;p&gt;&lt;b&gt;123&amp;456&lt;/b&gt;&lt;/p&gt;&quot;;
var encodeText = HTMLEncode(tagText);
console.log(encodeText);//&amp;lt;p&amp;gt;&amp;lt;b&amp;gt;123&amp;amp;456&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;
console.log(HTMLDecode(encodeText)); //&lt;p&gt;&lt;b&gt;123&amp;456&lt;/b&gt;&lt;/p&gt; 
</code></pre>
<p><strong>Best regards</strong><br><strong>Wang Yuheng</strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.yuheng.wang/2015/12/15/mysql-host-is-blocked/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wangyuheng">
      <meta itemprop="description" content="天行健 男儿当立志！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wangyuheng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/12/15/mysql-host-is-blocked/" class="post-title-link" itemprop="url">Host 'xxxx' is blocked because of many connection errors; unblock with 'mysqladmin flush-hosts'</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-12-15 09:41:17" itemprop="dateCreated datePublished" datetime="2015-12-15T09:41:17+08:00">2015-12-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>转载请注明出处<a target="_blank" rel="noopener" href="http://blog.crick.wang/">WangYuheng’s Blog</a></p>
<p>由于网络连接不稳定，在连接局域网内的mysql开发服务器时，连续多次断开，结果无法连接到mysql服务器，报错内容如下：</p>
<pre><code>Host &#39;host_name&#39; is blocked because of many connection errors.
Unblock with &#39;mysqladmin flush-hosts&#39;
</code></pre>
<p>这是mysql自带的一种保护机制，如果客户端连续连接失败次数<strong>max_connect_errors</strong>，超过默认值，则会拒绝客户端继续连接。<br>可以通过</p>
<pre><code>SHOW VARIABLES LIKE &#39;max_connect_errors&#39;
    
</code></pre>
<p>查看允许连接失败的次数，默认为100次。由于网络不稳，可能会让JDBC等连接很快超过此默认值，可以通过修改此默认值来避免出现连接失败的情形，如</p>
<pre><code>SET GLOBAL max_connect_errors=10000;
</code></pre>
<p> 如果本机已被拒绝连接，可以通过另一台可连接到mysql服务器的主机执行以下命令</p>
<pre><code> mysqladmin flush-hosts -h localhost -uroot -p *****
 
</code></pre>
<p>此命令会清空所有的hosts缓存信息，执行后即可链接</p>
<p><strong>Best regards</strong><br><strong>Wang Yuheng</strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.yuheng.wang/2015/12/14/clear-mysql-query-cache/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wangyuheng">
      <meta itemprop="description" content="天行健 男儿当立志！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wangyuheng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/12/14/clear-mysql-query-cache/" class="post-title-link" itemprop="url">清空mysql查询缓存</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-12-14 19:55:13" itemprop="dateCreated datePublished" datetime="2015-12-14T19:55:13+08:00">2015-12-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/mysql/" itemprop="url" rel="index"><span itemprop="name">mysql</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>转载请注明出处<a target="_blank" rel="noopener" href="http://blog.crick.wang/">WangYuheng’s Blog</a></p>
<h1 id="mysql-查询缓存"><a href="#mysql-查询缓存" class="headerlink" title="mysql 查询缓存"></a>mysql 查询缓存</h1><p>在sql调优的过程中，发现原本很慢的一条sql（将近1分钟） 在第二次运行时， 瞬间就完成了（0.04sec）。<br>这是因为mysql自带的缓存机制，将查询结果进行缓存，如果table数据未发生变化，再次使用同一条sql进行查询时，直接从上次的查询结果缓存中读取数据，而不是重新分析、执行sql。<br>如果table数据发生变化，所有与之相关的缓存都会被释放刷新，这样就不会出现数据脏读问题。</p>
<blockquote>
<p>The query cache stores the text of a SELECT statement together with the corresponding result that was sent to the client. If an identical statement is received later, the server retrieves the results from the query cache rather than parsing and executing the statement again. The query cache is shared among sessions, so a result set generated by one client can be sent in response to the same query issued by another client.</p>
</blockquote>
<hr>
<h1 id="是否使用查询缓存"><a href="#是否使用查询缓存" class="headerlink" title="是否使用查询缓存"></a>是否使用查询缓存</h1><p>为了避免缓存，可以在sql查询语句的字段前增加 <strong>SQL_NO_CACHE</strong> 关键字<br>如：</p>
<pre><code>select * from t_user;

select SQL_NO_CACHE * from t_user;
</code></pre>
<p>反之，你也可以使用 <strong>SQL_CACHE</strong> 关键字，强制mysql从缓存中读取数据</p>
<pre><code>select SQL_CACHE * from t_user;
</code></pre>
<p>mysql还提供了一种释放全部缓存的方法</p>
<pre><code>reset query cache;  
</code></pre>
<hr>
<h1 id="设置查询缓存"><a href="#设置查询缓存" class="headerlink" title="设置查询缓存"></a>设置查询缓存</h1><p>查看是否有查询缓存。</p>
<pre><code>SHOW VARIABLES LIKE &#39;have_query_cache&#39;;
</code></pre>
<p><strong>注意</strong>，只要数据库拥有查询缓存功能，这个VALUE就是YES，无论查询缓存是否启用。</p>
<p>则查询缓存为启用状态。mysql默认为启用状态</p>
<p>mysql查询缓存可以通过两个变量来控制，<strong>query_cache_type</strong>和<strong>query_cache_size</strong>。</p>
<hr>
<h2 id="query-cache-type"><a href="#query-cache-type" class="headerlink" title="query_cache_type"></a>query_cache_type</h2><pre><code>SHOW VARIABLES LIKE &#39;query_cache_type&#39;;
</code></pre>
<p><strong>query_cache_type</strong>包含三种状态</p>
<ul>
<li><strong>0</strong> or <strong>OFF</strong> 此时不会从缓存中读取查询数据</li>
<li><strong>1</strong> or <strong>ON</strong> 表示除非声明了<strong>SELECT SQL_NO_CACHE</strong>，否则都会从缓存中读取数据</li>
<li><strong>2</strong> or <strong>DEMAND</strong> 表示所有语句都会从缓存中读取，相当于所有查询语句都使用了<strong>SELECT SQL_CACHE</strong></li>
</ul>
<p>通过如下命令可以设置查询缓存状态(需要管理员权限)，执行后，需要重启mysql服务才能生效。</p>
<pre><code>SET GLOBAL query_cache_type = 1;  
</code></pre>
<p>但是此命令会影响所有的使用此mysql服务的client。可以通过如下命令，关闭此客户端的查询缓存状态，但是同样需要重启server后才能生效。</p>
<pre><code>SET SESSION query_cache_type = OFF;

SHOW VARIABLES LIKE &#39;query_cache_type&#39;;
</code></pre>
<h2 id="query-cache-size"><a href="#query-cache-size" class="headerlink" title="query_cache_size"></a>query_cache_size</h2><pre><code>SHOW VARIABLES LIKE &#39;query_cache_size&#39;;
</code></pre>
<p><strong>query_cache_size</strong>表示缓存大小，默认为1M。如果设置为0，则相当于<strong>query_cache_size=OFF</strong>。</p>
<p>同样可通过 <strong>SET GLOBAL</strong> 进行设置</p>
<pre><code>SET GLOBAL query_cache_size=40000;
</code></pre>
<p>需要注意的是，设置的query_cache_size，并不全是用于存储数据，还有约40KB的空间来维护查询缓存的结构。</p>
<hr>
<p><strong>Best regards</strong><br><strong>Wang Yuheng</strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.yuheng.wang/2015/12/14/java-split-exception/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wangyuheng">
      <meta itemprop="description" content="天行健 男儿当立志！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wangyuheng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/12/14/java-split-exception/" class="post-title-link" itemprop="url">java split 报错java.lang.ArrayIndexOutOfBoundsException</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-12-14 14:58:45" itemprop="dateCreated datePublished" datetime="2015-12-14T14:58:45+08:00">2015-12-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>转载请注明出处<a target="_blank" rel="noopener" href="http://blog.crick.wang/">WangYuheng’s Blog</a></p>
<h1 id="java-lang-split方法简介"><a href="#java-lang-split方法简介" class="headerlink" title="java.lang#split方法简介"></a>java.lang#split方法简介</h1><p>java.lang提供的split方法，可以根据指定分隔符，将String字符串，切割并返回String[]字符串数组。</p>
<pre><code>public String[] split(String regex)
public String[] split(String regex, int limit)
</code></pre>
<p><strong>regex</strong>为指定分隔符，支持正在表达式<br><strong>limit</strong>为切割后的数组长度，默认为0，不会超过实际长度<br>例:</p>
<pre><code>public static void main(String[] args) &#123;
    String str = &quot;a,b,c,d,e&quot;;
    String[] arr1 = str.split(&quot;,&quot;); // [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;] length=5
    String[] arr2 = str.split(&quot;,&quot;, 3); //[&quot;a&quot;, &quot;b&quot;, &quot;c,d,e&quot;] length=3
    String[] arr3 = str.split(&quot;,&quot;, 10); //[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;] length=5
    String[] arr4 = str.split(&quot;nan&quot;); //[&quot;a,b,c,d,e&quot;] length=1
    String[] arr5 = &quot;&quot;.split(&quot;nan&quot;); //[&quot;&quot;] length=1
&#125;
</code></pre>
<hr>
<h1 id="特殊用法"><a href="#特殊用法" class="headerlink" title="特殊用法"></a>特殊用法</h1><p>因为split支持正则参数，可能会需要根据多个分隔符进行分隔，如 <strong>id=? and gender=? or age&gt;?</strong>,希望根据<em>and</em>和<em>or</em>两个分隔符进行分隔，则可通过正则实现。</p>
<pre><code>public static void main(String[] args) &#123;
    String str = &quot;id=? and gender=? or age&gt;?&quot;;
    String[] arr1 = str.split(&quot;and | or&quot;); // [&quot;id=? &quot;,&quot;gender=?&quot;,&quot; age&gt;?&quot;] length=3
&#125;
</code></pre>
<p>注意上述中的空格符， 如果只根据关键字分隔，不能输入空格。**”and|or”**，可实现分隔效果。</p>
<hr>
<h1 id="易现exception"><a href="#易现exception" class="headerlink" title="易现exception"></a>易现exception</h1><h2 id="NullPointerException"><a href="#NullPointerException" class="headerlink" title="NullPointerException"></a>NullPointerException</h2><p>字符串为””时， 返回结果为String[]{“”},但是字符串为null，会抛出空指针异常<strong>java.lang.NullPointerException</strong></p>
<h2 id="ArrayIndexOutOfBoundsException"><a href="#ArrayIndexOutOfBoundsException" class="headerlink" title="ArrayIndexOutOfBoundsException"></a>ArrayIndexOutOfBoundsException</h2><p>标题中出现的java.lang.ArrayIndexOutOfBoundsException, 是一个容易出现的bug，因为支持正则参数，如果传入参数为转义符，则会出现非预期的结果数据。<br>如：</p>
<pre><code>public static void main(String[] args) &#123;
    String str = &quot;a.b.c.d.e&quot;;
    String[] arr1 = str.split(&quot;.&quot;); // length=0 如果读取数组 则会出现数组越界异常ArrayIndexOutOfBoundsException
    String[] arr2 = str.split(&quot;\\.&quot;); // [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;] length=5
&#125;
</code></pre>
<p>同理， 根据**”|”<strong>分隔，需要使用</strong>“\|”**</p>
<h2 id="java-util-regex-PatternSyntaxException"><a href="#java-util-regex-PatternSyntaxException" class="headerlink" title="java.util.regex.PatternSyntaxException"></a>java.util.regex.PatternSyntaxException</h2><p>同样是由于正则表达式参数，**”+”** <strong>“*”<strong>需要使用</strong>“\+”</strong> **”\*”**进行转义，否则，会报错java.util.regex.PatternSyntaxException</p>
<pre><code>public static void main(String[] args) &#123;
    String str = &quot;a+b+c+d+e&quot;;
    String[] arr1 = str.split(&quot;\\+&quot;); // [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;] length=5
    String[] arr2 = str.split(&quot;+&quot;); // java.util.regex.PatternSyntaxException: Dangling meta character &#39;+&#39; near index 0
&#125;
</code></pre>
<hr>
<p><strong>Best regards</strong><br><strong>Wang Yuheng</strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.yuheng.wang/2015/12/14/markdown/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="wangyuheng">
      <meta itemprop="description" content="天行健 男儿当立志！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wangyuheng's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2015/12/14/markdown/" class="post-title-link" itemprop="url">Markdown入门学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2015-12-14 10:15:40" itemprop="dateCreated datePublished" datetime="2015-12-14T10:15:40+08:00">2015-12-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">通用基础</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>转载请注明出处<a target="_blank" rel="noopener" href="http://blog.crick.wang/">WangYuheng’s Blog</a></p>
<blockquote>
<p>Markdown是一种可以使用普通文本编辑器编写的标记语言，通过简单的标记语法，它可以使普通文本内容具有一定的格式。</p>
</blockquote>
<h1 id="初识markdown"><a href="#初识markdown" class="headerlink" title="初识markdown"></a>初识markdown</h1><p>&#160; &#160; &#160; &#160;第一次接触markdown，用在blog的编辑器上，发现并没有传统的富文本支持，自己的代码格式又是一片混乱，然后发现了一句“支持markdown语法”。经过查找之后发现，markdown确实可以提供非常良好的写作体验。<br>markdown给我的第一感觉是类似于HTML语言，同样都是通过简单的标记实现样式显示，但是markdown要简单的多，并且通过普通的文本编辑器就可书写，也可以非常方便的进行移植。</p>
<h2 id="markdown优点"><a href="#markdown优点" class="headerlink" title="markdown优点"></a>markdown优点</h2><ul>
<li>纯文本实现，兼容各种文本编辑器，移植行好</li>
<li>标签简单，可读性好</li>
<li>插件众多，扩展性强</li>
<li>可导出为HTML、PDF等多种格式</li>
</ul>
<p>我最看重的一点是，对于blog而言，markdown能让我更专注于文字内容本身，而不用关心布局。这有助于让我摆脱网站布局和繁重的word。</p>
<hr>
<h1 id="学习markdown"><a href="#学习markdown" class="headerlink" title="学习markdown"></a>学习markdown</h1><p>markdown语言简单，容易记忆，只需了解一些常用的标记方式，就可实现文字的编辑工作。<br>(**注:**markdown的标准语言为：标签和文字内容之间要保留一个空格。)</p>
<h2 id="常用标记"><a href="#常用标记" class="headerlink" title="常用标记"></a>常用标记</h2><h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><p>将一句话作为文章的标题，只需在文字前加上**#**即可。<br>    # 一级标题<br>    ## 二级标题<br>    ### 三级标题<br>以此类推，markdown和HTML一样，也提供了6种不同大小的标题方式。</p>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>列表分为有序列表和无序列表两种：</p>
<p>无序列表只需在文字前加上**-<strong>或***</strong>，可混合使用，推荐使用**-**<br>    - 列表1<br>    * 列表2<br>    - 列表3</p>
<ul>
<li>列表1</li>
</ul>
<ul>
<li>列表2</li>
</ul>
<ul>
<li>列表3</li>
</ul>
<p>有序列表直接在文字前加上<strong>“1.”</strong> <strong>“2.”</strong>，可以全部输入数字<strong>“1.”</strong> ,markdown会自动实现排序<br>    1. 列表1<br>    1. 列表2<br>    1. 列表3</p>
<ol>
<li>列表1</li>
<li>列表2</li>
<li>列表3</li>
</ol>
<h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><p>提供了非常方便的粗体和斜体格式规则 一个* 包含的文字为斜体， 两个*包含则为粗体</p>
<pre><code>*斜体格式*
</code></pre>
<p><em>斜体格式</em></p>
<pre><code>**粗体格式**
</code></pre>
<p><strong>粗体格式</strong></p>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><p>引用外部一段文字的语法非常简单，只需在文字前加上大于号**&gt;**<br>    &gt;这是一段引用的文字</p>
<blockquote>
<p>这是一段引用的文字</p>
</blockquote>
<h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><pre><code>[链接](http://wangyuheng.github.io)
</code></pre>
<p><a target="_blank" rel="noopener" href="http://wangyuheng.github.io/">链接</a></p>
<h3 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h3><p>图片和链接的使用方式类似，差别在于图片需要前面加一个!<br><code>![](http://wangyuheng.github.io/images/searchicon.png)</code><br><img src="http://wangyuheng.github.io/images/searchicon.png"></p>
<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><pre><code>| Tables        | Are           | Cool  |
| ------------- |:-------------:| -----:|
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
</code></pre>
<table>
<thead>
<tr>
<th>Tables</th>
<th align="center">Are</th>
<th align="right">Cool</th>
</tr>
</thead>
<tbody><tr>
<td>col 3 is</td>
<td align="center">right-aligned</td>
<td align="right">$1600</td>
</tr>
<tr>
<td>col 2 is</td>
<td align="center">centered</td>
<td align="right">$12</td>
</tr>
<tr>
<td>zebra stripes</td>
<td align="center">are neat</td>
<td align="right">$1</td>
</tr>
</tbody></table>
<h3 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h3><p>分割线的语法很简单，只需要三个*****就可以，相当于HTML中的<br />，文本会另起一行<br>    ***</p>
<hr>
<h1 id="markdown相关软件"><a href="#markdown相关软件" class="headerlink" title="markdown相关软件"></a>markdown相关软件</h1><hr>
<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>通过上面的简单介绍，已经可以在提供了markdown的环境下，简单的使用这一写作神奇了。至于更高级的功能、软件，以及熟练程度，都需要在实际的使用过程中慢慢积累。<br>最后，祝您写作愉快！</p>
<hr>
<p><strong>Best regards</strong><br><strong>Wang Yuheng</strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">辽ICP备16008709号-1 </a>
      <img src="http://www.beian.gov.cn/portal/download" style="display: inline-block;">
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wangyuheng</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/next-theme/pjax@0/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], #pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  if (hasTOC) {
    document.querySelector('.sidebar-nav-toc').click();
  } else {
    document.querySelector('.sidebar-nav-overview').click();
  }
  NexT.utils.updateSidebarPosition();
});
</script>


  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

    </div>
</body>
</html>
